<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>أعمال اليوم الهجري</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Tajawal', sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }
        
        .islamic-pattern {
            background-color: #0d9488;
            background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%231976d2' fill-opacity='0.1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }
        
        .calendar-card {
            transition: all 0.3s ease;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .calendar-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }
        
        .arabic-date {
            font-size: 2.5rem;
            line-height: 1.2;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.2);
        }
        
        .hijri-month-name {
            color: #0d9488;
            font-weight: 700;
        }
        
        .works-content {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 12px;
            padding: 1.5rem;
            line-height: 1.8;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            max-height: 300px;
            overflow-y: auto;
        }
        
        .works-content::-webkit-scrollbar {
            width: 8px;
        }
        
        .works-content::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        
        .works-content::-webkit-scrollbar-thumb {
            background: #0d9488;
            border-radius: 10px;
        }
        
        .no-works {
            background: rgba(255, 243, 205, 0.8);
            border-right: 4px solid #ffc107;
            color: #856404;
            padding: 1rem;
            border-radius: 8px;
        }
        
        .day-highlight {
            background: linear-gradient(120deg, #84fab0 0%, #8fd3f4 100%);
            padding: 0.5rem 1rem;
            border-radius: 50px;
            display: inline-block;
            font-weight: bold;
            color: #0d9488;
        }
        
        .month-selector {
            background: white;
            border-radius: 10px;
            padding: 1rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }
        
        @media (max-width: 768px) {
            .arabic-date {
                font-size: 1.8rem;
            }
        }
    </style>
</head>
<body class="py-8 px-4">
    <div class="container mx-auto max-w-4xl">
        <!-- العنوان الرئيسي -->
        <header class="text-center mb-10">
            <h1 class="text-4xl font-bold text-gray-800 mb-3">
                <i class="fas fa-mosque text-teal-600 mr-2"></i>أعمال اليوم الهجري
            </h1>
            <p class="text-gray-600 text-lg">اعرف أعمال وفضائل اليوم حسب التقويم الهجري الإسلامي</p>
        </header>
        
        <!-- بطاقة التاريخ الهجري -->
        <div class="calendar-card bg-white rounded-2xl overflow-hidden mb-10">
            <div class="islamic-pattern py-8 px-6 text-center">
                <div class="text-white mb-2">
                    <i class="fas fa-calendar-alt text-2xl"></i>
                    <span class="mr-2 text-xl">التاريخ الهجري</span>
                </div>
                
                <div id="hijriDateContainer" class="text-white arabic-date">
                    <!-- سيتم ملء التاريخ هنا جافاسكريبت -->
                </div>
                
                <div id="gregorianDate" class="text-white opacity-90 mt-2 text-lg">
                    <!-- التاريخ الميلادي -->
                </div>
            </div>
            
            <div class="p-6">
                <div class="flex flex-wrap justify-center gap-4 mb-6">
                    <div class="text-center">
                        <div class="text-gray-500 mb-1">اليوم</div>
                        <div id="hijriDay" class="day-highlight">--</div>
                    </div>
                    
                    <div class="text-center">
                        <div class="text-gray-500 mb-1">الشهر</div>
                        <div id="hijriMonth" class="day-highlight">--</div>
                    </div>
                    
                    <div class="text-center">
                        <div class="text-gray-500 mb-1">السنة</div>
                        <div id="hijriYear" class="day-highlight">--</div>
                    </div>
                </div>
                
                <div class="text-center mb-4">
                    <h2 class="text-2xl font-bold text-gray-800 mb-4">
                        <i class="fas fa-tasks text-teal-600 mr-2"></i>أعمال اليوم
                    </h2>
                </div>
                
                <!-- عرض الأعمال -->
                <div id="worksContainer" class="works-content">
                    <!-- سيتم ملء الأعمال هنا جافاسكريبت -->
                    <div class="text-center py-8">
                        <div class="spinner-border text-teal-600" role="status">
                            <i class="fas fa-spinner fa-spin fa-2x"></i>
                        </div>
                        <p class="mt-3 text-gray-600">جاري تحميل أعمال اليوم...</p>
                    </div>
                </div>
                
                <!-- ملاحظة -->
                <div class="mt-6 text-center text-gray-500 text-sm">
                    <p><i class="fas fa-info-circle mr-1"></i>يتم تحديد التاريخ الهجري مباشرة من جهازك باستخدام تقويم <span class="font-semibold">Islamic Umalqura</span></p>
                </div>
            </div>
        </div>
        
        <!-- اختيار الشهر يدويًا -->
        <div class="month-selector mb-10">
            <h3 class="text-xl font-bold text-gray-800 mb-4 text-center">
                <i class="fas fa-calendar-day text-teal-600 mr-2"></i>استعرض أعمال شهر آخر
            </h3>
            
            <div class="flex flex-wrap justify-center gap-4 mb-6">
                <div>
                    <label for="monthSelect" class="block text-gray-700 mb-2">اختر الشهر الهجري:</label>
                    <select id="monthSelect" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500">
                        <option value="1">محرم</option>
                        <option value="2">صفر</option>
                        <option value="3">ربيع الأول</option>
                        <option value="4">ربيع الثاني</option>
                        <option value="5">جمادى الأولى</option>
                        <option value="6">جمادى الآخرة</option>
                        <option value="7">رجب</option>
                        <option value="8">شعبان</option>
                        <option value="9">رمضان</option>
                        <option value="10">شوال</option>
                        <option value="11">ذو القعدة</option>
                        <option value="12">ذو الحجة</option>
                    </select>
                </div>
                
                <div>
                    <label for="daySelect" class="block text-gray-700 mb-2">اختر اليوم:</label>
                    <select id="daySelect" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-teal-500">
                        <!-- سيتم ملء الأيام جافاسكريبت -->
                    </select>
                </div>
            </div>
            
            <div class="text-center">
                <button id="viewWorksBtn" class="bg-teal-600 hover:bg-teal-700 text-white font-bold py-3 px-8 rounded-lg transition duration-300 transform hover:scale-105">
                    <i class="fas fa-eye mr-2"></i>عرض الأعمال
                </button>
            </div>
        </div>
        
        <!-- معلومات التطبيق -->
        <footer class="text-center text-gray-600 mt-12 pt-6 border-t border-gray-200">
            <p><i class="fas fa-code mr-1"></i>تم بناؤه باستخدام HTML، CSS و JavaScript فقط</p>
            <p class="mt-2">يعمل 100% على GitHub Pages دون الحاجة لخادم أو API خارجي</p>
            <p class="mt-4 text-sm">© أعمال اليوم الهجري - 2023</p>
        </footer>
    </div>

    <script>
        // كائن يحتوي على أعمال كل شهر هجري
        const hijriWorks = {
            // شهر محرم
            1: {
                name: "محرم",
                1: "اليوم الأول من محرم (رأس السنة الهجرية)<br><br>• صيام هذا اليوم مستحب.<br>• الإكثار من الصلاة على النبي محمد صلى الله عليه وسلم.<br>• الدعاء بالخير والبركة في العام الجديد.<br>• تذكر هجرة النبي صلى الله عليه وسلم والاعتبار بها.",
                2: "اليوم الثاني من محرم<br><br>• الاجتهاد في العبادة والإكثار من الذكر.<br>• صيام هذا اليوم مستحب.<br>• قراءة القرآن والتقرب إلى الله بالطاعات.",
                3: "اليوم الثالث من محرم<br><br>• الإكثار من الاستغفار.<br>• صلاة ركعتين بنية قضاء الحوائج.<br>• الدعاء بأدعية أول الشهر.",
                7: "اليوم السابع من محرم<br><br>• صيام هذا اليوم مستحب.<br>• الإكثار من الصلاة على النبي محمد صلى الله عليه وسلم.<br>• قراءة سورة يس بنية دفع البلاء.",
                9: "يوم التاسع من محرم (تاسوعاء)<br><br>• صيام هذا اليوم مستحب.<br>• زيارة الحسين عليه السلام أو قراءة الزيارة.<br>• الإكثار من الدعاء والاستغفار.",
                10: "اليوم العاشر من محرم (عاشوراء)<br><br>• صيام هذا اليوم له فضل كبير.<br>• قراءة زيارة عاشوراء.<br>• الدعاء بدعاء العشرات.<br>• الصدقة والإحسان إلى الفقراء.",
                15: "اليوم الخامس عشر من محرم<br><br>• صيام هذا اليوم مستحب.<br>• قراءة سورة الحمد وسورة التوحيد 100 مرة.<br>• الدعاء بدعاء اليوم الخامس عشر."
            },
            
            // شهر صفر
            2: {
                name: "صفر",
                1: "اليوم الأول من صفر<br><br>• قراءة سورة التوحيد 100 مرة.<br>• الصيام مستحب.<br>• الدعاء بدعاء أول الشهر.",
                7: "اليوم السابع من صفر<br><br>• الإكثار من الصلاة على النبي محمد صلى الله عليه وسلم.<br>• قراءة القرآن والتسبيح.<br>• صيام هذا اليوم مستحب.",
                20: "اليوم العشرون من صفر (أربعين الإمام الحسين)<br><br>• زيارة الإمام الحسين عليه السلام أو قراءة زيارة الأربعين.<br>• صيام هذا اليوم مستحب.<br>• الإكثار من الصلاة على النبي محمد صلى الله عليه وسلم وآله.",
                28: "اليوم الثامن والعشرون من صفر (وفاة النبي محمد صلى الله عليه وسلم)<br><br>• قراءة القرآن والصلاة على النبي.<br>• الإكثار من الاستغفار.<br>• صيام هذا اليوم مستحب."
            },
            
            // شهر ربيع الأول
            3: {
                name: "ربيع الأول",
                8: "اليوم الثامن من ربيع الأول (وفاة الإمام الحسن العسكري)<br><br>• زيارة الإمام الحسن العسكري عليه السلام.<br>• قراءة القرآن بنية راحة روحه.<br>• الصدقة عنه.",
                12: "اليوم الثاني عشر من ربيع الأول (المولد النبوي الشريف)<br><br>• الصيام مستحب.<br>• الإكثار من الصلاة على النبي محمد صلى الله عليه وسلم.<br>• قراءة سيرة النبي.<br>• إطعام الطعام والصدقة.",
                17: "اليوم السابع عشر من ربيع الأول (مولد النبي محمد صلى الله عليه وسلم)<br><br>• الصيام مستحب جداً.<br>• الإكثار من الصلاة على النبي وآله.<br>• إحياء الليل بالعبادة.<br>• إطعام المؤمنين والتصدق."
            },
            
            // شهر ربيع الثاني
            4: {
                name: "ربيع الثاني",
                10: "اليوم العاشر من ربيع الثاني<br><br>• صيام هذا اليوم مستحب.<br>• قراءة سورة القدر 7 مرات.<br>• الدعاء بدعاء اليوم العاشر.",
                15: "اليوم الخامس عشر من ربيع الثاني<br><br>• صيام هذا اليوم مستحب.<br>• قراءة سورة يس والصلاة على النبي.<br>• الدعاء بدعاء اليوم الخامس عشر."
            },
            
            // شهر جمادى الأولى
            5: {
                name: "جمادى الأولى",
                5: "اليوم الخامس من جمادى الأولى (مولد السيدة زينب عليها السلام)<br><br>• الصيام مستحب.<br>• زيارة السيدة زينب أو قراءة زيارتها.<br>• الإكثار من الصلاة على النبي وآله.",
                13: "اليوم الثالث عشر من جمادى الأولى (وفاة السيدة فاطمة الزهراء عليها السلام)<br><br>• قراءة القرآن بنية راحة روحها.<br>• الصيام مستحب.<br>• زيارة السيدة فاطمة الزهراء أو قراءة زيارتها."
            },
            
            // شهر جمادى الآخرة
            6: {
                name: "جمادى الآخرة",
                3: "اليوم الثالث من جمادى الآخرة (شهادة السيدة فاطمة الزهراء عليها السلام)<br><br>• قراءة زيارة فاطمية.<br>• الصيام مستحب.<br>• الإكثار من الاستغفار والصلاة على النبي وآله.",
                20: "اليوم العشرون من جمادى الآخرة (مولد السيدة فاطمة الزهراء عليها السلام)<br><br>• الصيام مستحب.<br>• زيارة السيدة فاطمة الزهراء أو قراءة زيارتها.<br>• الإكثار من الصلاة على النبي وآله."
            },
            
            // شهر رجب
            7: {
                name: "رجب",
                1: "اليوم الأول من رجب (بداية الأشهر الحرم)<br><br>• الصيام مستحب.<br>• غسل الاستحباب.<br>• زيارة الإمام الحسين عليه السلام أو قراءة زيارته.<br>• قراءة دعاء أول رجب.",
                2: "اليوم الثاني من رجب<br><br>• الصيام مستحب.<br>• قراءة سورة يس.<br>• الدعاء بدعاء اليوم الثاني من رجب.",
                3: "اليوم الثالث من رجب<br><br>• الصيام مستحب.<br>• زيارة الإمام الحسين عليه السلام.<br>• قراءة دعاء اليوم الثالث من رجب.",
                13: "اليوم الثالث عشر من رجب (مولد الإمام علي عليه السلام)<br><br>• الصيام مستحب.<br>• غسل الاستحباب.<br>• زيارة الإمام علي عليه السلام.<br>• قراءة المناجاة الشعبانية.",
                14: "اليوم الرابع عشر من رجب<br><br>• الصيام مستحب.<br>• قراءة سورة يس.<br>• الدعاء بدعاء اليوم الرابع عشر.",
                15: "اليوم الخامس عشر من رجب<br><br>• الصيام مستحب.<br>• غسل الاستحباب.<br>• زيارة الإمام الحسين عليه السلام.<br>• قراءة دعاء اليوم الخامس عشر من رجب.",
                25: "اليوم الخامس والعشرون من رجب (شهادة الإمام الكاظم عليه السلام)<br><br>• زيارة الإمام الكاظم عليه السلام.<br>• الصيام مستحب.<br>• قراءة القرآن بنية راحة روحه.",
                27: "اليوم السابع والعشرون من رجب (ليلة الإسراء والمعراج)<br><br>• إحياء الليل بالعبادة.<br>• الصلاة 12 ركعة.<br>• قراءة دعاء الإسراء والمعراج.<br>• الصيام نهاره مستحب."
            },
            
            // شهر شعبان
            8: {
                name: "شعبان",
                1: "اليوم الأول من شعبان<br><br>• الصيام مستحب.<br>• زيارة الإمام الحسين عليه السلام.<br>• قراءة دعاء أول شعبان.",
                3: "اليوم الثالث من شعبان (مولد الإمام الحسين عليه السلام)<br><br>• الصيام مستحب.<br>• غسل الاستحباب.<br>• زيارة الإمام الحسين عليه السلام.<br>• إطعام المؤمنين.",
                4: "اليوم الرابع من شعبان (مولد الإمام زين العابدين عليه السلام)<br><br>• الصيام مستحب.<br>• زيارة الإمام زين العابدين عليه السلام.<br>• قراءة القرآن.",
                5: "اليوم الخامس من شعبان (مولد الإمام علي بن الحسين عليه السلام)<br><br>• الصيام مستحب.<br>• زيارة الإمام علي بن الحسين عليه السلام.<br>• الإكثار من الصلاة على النبي وآله.",
                15: "اليوم الخامس عشر من شعبان (مولد الإمام المهدي عجل الله فرجه)<br><br>• غسل الاستحباب.<br>• إحياء الليل بالعبادة.<br>• زيارة الإمام الحسين عليه السلام.<br>• قراءة دعاء كميل.<br>• الصيام نهاره مستحب جداً.",
                20: "اليوم العشرون من شعبان<br><br>• الصيام مستحب.<br>• قراءة سورة يس.<br>• الدعاء بدعاء العشرين من شعبان."
            },
            
            // شهر رمضان
            9: {
                name: "رمضان",
                1: "اليوم الأول من رمضان<br><br>• نية صيام الشهر كاملاً.<br>• قراءة دعاء الافتتاح.<br>• الإكثار من الاستغفار والتسبيح.<br>• صلاة التراويح.",
                2: "اليوم الثاني من رمضان<br><br>• الإكثار من قراءة القرآن.<br>• الدعاء بدعاء اليوم الثاني.<br>• الصدقة ولو بالقليل.",
                3: "اليوم الثالث من رمضان<br><br>• قراءة سورة الأنعام.<br>• الدعاء بدعاء اليوم الثالث.<br>• صلاة الليل.",
                10: "اليوم العاشر من رمضان<br><br>• الإكثار من الصلاة على النبي وآله.<br>• قراءة سورة التكوير.<br>• الدعاء بدعاء أبي حمزة الثمالي.",
                13: "اليوم الثالث عشر من رمضان (أول أيام البيض)<br><br>• صيام هذا اليوم مستحب.<br>• قراءة سورة يس.<br>• الإكثار من الذكر والاستغفار.",
                14: "اليوم الرابع عشر من رمضان (ثاني أيام البيض)<br><br>• صيام هذا اليوم مستحب.<br>• قراءة سورة الدخان.<br>• الدعاء بدعاء اليوم الرابع عشر.",
                15: "اليوم الخامس عشر من رمضان (ثالث أيام البيض)<br><br>• صيام هذا اليوم مستحب.<br>• غسل الاستحباب.<br>• زيارة الإمام الحسين عليه السلام.<br>• قراءة سورة الحمد وسورة التوحيد 100 مرة.",
                19: "اليوم التاسع عشر من رمضان (ليلة القدر الأولى)<br><br>• إحياء الليل بالعبادة.<br>• قراءة دعاء الجوشن الكبير.<br>• قراءة سورة العنكبوت والروم والدخان.<br>• الصلاة 100 ركعة.",
                20: "اليوم العشرون من رمضان<br><br>• الإكثار من الاستغفار.<br>• قراءة سورة يس.<br>• الدعاء بدعاء اليوم العشرين.",
                21: "اليوم الحادي والعشرون من رمضان (ليلة القدر الثانية)<br><br>• إحياء الليل بالعبادة.<br>• غسل الاستحباب.<br>• قراءة دعاء الجوشن الصغير.<br>• قراءة سورة القدر 1000 مرة.",
                23: "اليوم الثالث والعشرون من رمضان (ليلة القدر الثالثة)<br><br>• إحياء الليل بالعبادة.<br>• غسل الاستحباب.<br>• قراءة سورة القدر.<br>• الدعاء بدعاء اليوم الثالث والعشرين.",
                27: "اليوم السابع والعشرون من رمضان (ليلة القدر المحتملة)<br><br>• إحياء الليل بالعبادة.<br>• قراءة دعاء الجوشن الكبير.<br>• الإكثار من الاستغفار.<br>• قراءة سورة الدخان."
            },
            
            // شهر شوال
            10: {
                name: "شوال",
                1: "اليوم الأول من شوال (عيد الفطر)<br><br>• غسل العيد.<br>• صلاة العيد.<br>• إخراج زكاة الفطر.<br>• زيارة الإمام الحسين عليه السلام.",
                2: "اليوم الثاني من شوال<br><br>• صيام هذا اليوم قضاء لرمضان.<br>• الإكثار من الصلاة على النبي وآله.<br>• الدعاء بدعاء اليوم الثاني من شوال.",
                25: "اليوم الخامس والعشرون من شوال (شهادة الإمام جعفر الصادق عليه السلام)<br><br>• زيارة الإمام جعفر الصادق عليه السلام.<br>• الصيام مستحب.<br>• قراءة القرآن بنية راحة روحه."
            },
            
            // شهر ذو القعدة
            11: {
                name: "ذو القعدة",
                1: "اليوم الأول من ذو القعدة (بداية الأشهر الحرم)<br><br>• الصيام مستحب.<br>• زيارة الإمام الحسين عليه السلام.<br>• قراءة دعاء أول الشهر.",
                11: "اليوم الحادي عشر من ذو القعدة (مولد الإمام علي بن موسى الرضا عليه السلام)<br><br>• الصيام مستحب.<br>• غسل الاستحباب.<br>• زيارة الإمام الرضا عليه السلام.<br>• إطعام المؤمنين.",
                25: "اليوم الخامس والعشرون من ذو القعدة (دحو الأرض)<br><br>• الصيام مستحب.<br>• غسل الاستحباب.<br>• زيارة الإمام الحسين عليه السلام.<br>• قراءة دعاء دحو الأرض."
            },
            
            // شهر ذو الحجة
            12: {
                name: "ذو الحجة",
                1: "اليوم الأول من ذو الحجة<br><br>• الصيام مستحب.<br>• قراءة دعاء أول الشهر.<br>• الإكثار من التهليل والتكبير.",
                7: "اليوم السابع من ذو الحجة<br><br>• الصيام مستحب.<br>• قراءة سورة يس.<br>• الدعاء بدعاء اليوم السابع.",
                8: "اليوم الثامن من ذو الحجة (يوم التروية)<br><br>• الصيام مستحب.<br>• الإكثار من التلبية.<br>• الدعاء بدعاء يوم التروية.",
                9: "اليوم التاسع من ذو الحجة (يوم عرفة)<br><br>• الصيام مستحب جداً.<br>• غسل الاستحباب.<br>• قراءة دعاء عرفة للإمام الحسين عليه السلام.<br>• الإكثار من الاستغفار والدعاء.",
                10: "اليوم العاشر من ذو الحجة (عيد الأضحى)<br><br>• غسل العيد.<br>• صلاة العيد.<br>• ذبح الأضحية.<br>• زيارة الإمام الحسين عليه السلام.",
                15: "اليوم الخامس عشر من ذو الحجة<br><br>• الصيام مستحب.<br>• قراءة سورة الحمد وسورة التوحيد 100 مرة.<br>• الدعاء بدعاء اليوم الخامس عشر.",
                18: "اليوم الثامن عشر من ذو الحجة (عيد الغدير)<br><br>• الصيام مستحب.<br>• غسل الاستحباب.<br>• زيارة أمير المؤمنين عليه السلام.<br>• قراءة دعاء العهد.<br>• إطعام المؤمنين.",
                24: "اليوم الرابع والعشرون من ذو الحجة (عيد المباهلة)<br><br>• الصيام مستحب.<br>• غسل الاستحباب.<br>• زيارة الإمام الحسين عليه السلام.<br>• قراءة دعاء المباهلة."
            }
        };

        // الحصول على التاريخ الهجري الحالي
        function getCurrentHijriDate() {
            const now = new Date();
            
            // استخدام Intl.DateTimeFormat للحصول على التاريخ الهجري
            const formatter = new Intl.DateTimeFormat('ar-SA-u-ca-islamic-umalqura', {
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                weekday: 'long'
            });
            
            const parts = formatter.formatToParts(now);
            
            let hijriDate = {
                year: '',
                month: '',
                day: '',
                weekday: ''
            };
            
            parts.forEach(part => {
                switch(part.type) {
                    case 'year':
                        hijriDate.year = part.value;
                        break;
                    case 'month':
                        hijriDate.month = part.value;
                        break;
                    case 'day':
                        // التصحيح هنا: إضافة fallback لمنع NaN
                        const dayNumber = parseInt(part.value);
                        hijriDate.day = isNaN(dayNumber) ? 1 : dayNumber;
                        break;
                    case 'weekday':
                        hijriDate.weekday = part.value;
                        break;
                }
            });
            
            // الحصول على التاريخ الميلادي أيضًا
            const gregorianFormatter = new Intl.DateTimeFormat('ar-SA', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
            
            const gregorianDate = gregorianFormatter.format(now);
            
            return {
                hijri: hijriDate,
                gregorian: gregorianDate
            };
        }

        // تحويل اسم الشهر الهجري إلى رقم
        function hijriMonthNameToNumber(monthName) {
            const monthMap = {
                'محرم': 1,
                'صفر': 2,
                'ربيع الأول': 3,
                'ربيع الثاني': 4,
                'جمادى الأولى': 5,
                'جمادى الآخرة': 6,
                'رجب': 7,
                'شعبان': 8,
                'رمضان': 9,
                'شوال': 10,
                'ذو القعدة': 11,
                'ذو الحجة': 12
            };
            
            return monthMap[monthName] || 1;
        }

        // عرض التاريخ الهجري الحالي
        function displayHijriDate() {
            const currentDate = getCurrentHijriDate();
            const hijri = currentDate.hijri;
            
            // عرض التاريخ الهجري
            document.getElementById('hijriDateContainer').innerHTML = 
                `${hijri.weekday}، ${hijri.day} ${hijri.month} ${hijri.year} هـ`;
            
            // عرض التاريخ الميلادي
            document.getElementById('gregorianDate').textContent = 
                `الميلادي: ${currentDate.gregorian}`;
            
            // عرض اليوم والشهر والسنة بشكل منفصل
            document.getElementById('hijriDay').textContent = hijri.day;
            document.getElementById('hijriMonth').textContent = hijri.month;
            document.getElementById('hijriYear').textContent = hijri.year + " هـ";
            
            // عرض أعمال اليوم
            displayTodayWorks(hijriMonthNameToNumber(hijri.month), hijri.day);
            
            // تعيين الشهر المحدد في القائمة
            const monthNumber = hijriMonthNameToNumber(hijri.month);
            document.getElementById('monthSelect').value = monthNumber;
            
            // ملء أيام الشهر
            populateDays(monthNumber);
            
            // تعيين اليوم الحالي في القائمة
            document.getElementById('daySelect').value = hijri.day;
        }

        // عرض أعمال اليوم الحالي
        function displayTodayWorks(month, day) {
            const worksContainer = document.getElementById('worksContainer');
            
            // التحقق من وجود أعمال لهذا اليوم
            if (hijriWorks[month] && hijriWorks[month][day]) {
                worksContainer.innerHTML = `<div class="text-right">${hijriWorks[month][day]}</div>`;
            } else {
                worksContainer.innerHTML = `
                    <div class="no-works text-center">
                        <i class="fas fa-calendar-times text-3xl mb-3"></i>
                        <h4 class="font-bold text-lg mb-2">لا توجد أعمال خاصة لهذا اليوم</h4>
                        <p>لم يتم تحديد أعمال خاصة لليوم ${day} من شهر ${hijriWorks[month] ? hijriWorks[month].name : ''}</p>
                        <p class="mt-3">يمكنك الاجتهاد في العبادة العامة مثل:</p>
                        <ul class="mt-2 text-right pr-4">
                            <li>• الإكثار من الصلاة على النبي محمد صلى الله عليه وسلم</li>
                            <li>• قراءة القرآن الكريم</li>
                            <li>• الصدقة والإحسان إلى الآخرين</li>
                            <li>• صلاة النوافل والدعاء</li>
                        </ul>
                    </div>
                `;
            }
        }

        // عرض أعمال يوم محدد
        function displaySpecificWorks(month, day) {
            const worksContainer = document.getElementById('worksContainer');
            
            // التحقق من وجود أعمال لهذا اليوم
            if (hijriWorks[month] && hijriWorks[month][day]) {
                worksContainer.innerHTML = `
                    <div class="text-right">
                        <h4 class="font-bold text-xl mb-3 text-teal-700">أعمال اليوم ${day} من ${hijriWorks[month].name}</h4>
                        ${hijriWorks[month][day]}
                    </div>
                `;
            } else {
                worksContainer.innerHTML = `
                    <div class="no-works text-center">
                        <i class="fas fa-calendar-times text-3xl mb-3"></i>
                        <h4 class="font-bold text-lg mb-2">لا توجد أعمال خاصة لهذا اليوم</h4>
                        <p>لم يتم تحديد أعمال خاصة لليوم ${day} من شهر ${hijriWorks[month].name}</p>
                        <p class="mt-3">يمكنك الاجتهاد في العبادة العامة</p>
                    </div>
                `;
            }
        }

        // ملء أيام الشهر في القائمة
        function populateDays(month) {
            const daySelect = document.getElementById('daySelect');
            daySelect.innerHTML = '';
            
            // عدد أيام الشهر (تقريبي)
            let daysInMonth = 30;
            if (month === 12) daysInMonth = 29; // ذو الحجة قد يكون 29 يوم
            
            for (let i = 1; i <= daysInMonth; i++) {
                const option = document.createElement('option');
                option.value = i;
                option.textContent = `اليوم ${i}`;
                daySelect.appendChild(option);
            }
        }

        // عند تحميل الصفحة
        document.addEventListener('DOMContentLoaded', function() {
            // عرض التاريخ الحالي وأعمال اليوم
            displayHijriDate();
            
            // تحديث القائمة عند تغيير الشهر
            document.getElementById('monthSelect').addEventListener('change', function() {
                const month = parseInt(this.value);
                populateDays(month);
            });
            
            // زر عرض الأعمال المحددة
            document.getElementById('viewWorksBtn').addEventListener('click', function() {
                const month = parseInt(document.getElementById('monthSelect').value);
                const day = parseInt(document.getElementById('daySelect').value);
                
                // تحديث العنوان ليعكس الشهر واليوم المختارين
                const monthName = hijriWorks[month].name;
                document.getElementById('hijriDay').textContent = day;
                document.getElementById('hijriMonth').textContent = monthName;
                document.getElementById('hijriYear').textContent = "(شهر مختار)";
                
                // عرض التاريخ المختار
                document.getElementById('hijriDateContainer').innerHTML = 
                    `اليوم ${day} من شهر ${monthName}`;
                
                // عرض الأعمال المختارة
                displaySpecificWorks(month, day);
            });
            
            // تحديث الصفحة كل ساعة (في حال بقاء الصفحة مفتوحة)
            setInterval(displayHijriDate, 3600000);
        });
    </script>
</body>
                            </html>
